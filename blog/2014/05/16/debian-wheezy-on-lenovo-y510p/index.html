
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Linux (Debian Wheezy) on Lenovo y510p - Linux geek's scratchpad</title>
  <meta name="author" content="">

  
  <meta name="description" content="After long analysis I decide to buy new laptop. I had about $1000
(or 3000PLN) and most important things to me were: i7 CPU &ndash; because of &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://pietrushnic.github.io/blog/2014/05/16/debian-wheezy-on-lenovo-y510p">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Linux geek's scratchpad" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>

<!-- Add fancyBox -->
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>


  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-39420295-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


<!-- AddThis Smart Layers BEGIN -->
<!-- Go to http://www.addthis.com/get/smart-layers to customize -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-534acd39445ac552"></script>
<script type="text/javascript">
  addthis.layers({
    'theme' : 'gray',
    'share' : {
      'position' : 'left',
      'numPreferredServices' : 5
    }, 
    'follow' : {
      'services' : [
        {'service': 'facebook', 'id': 'piotr.krol.756859'},
        {'service': 'twitter', 'id': 'pietrushnic'},
        {'service': 'linkedin', 'id': 'krolpiotr'},
        {'service': 'google_follow', 'id': '115979497998056410813'}
      ]
    },  
    'whatsnext' : {},  
    'recommended' : {} 
  });
</script>
<!-- AddThis Smart Layers END -->
</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">Linux geek's scratchpad</a></h1>
  
    <h2>or embedded dreams about productivity, freedom and liberty</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:pietrushnic.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About me</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Linux (Debian Wheezy) on Lenovo Y510p</h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-16T22:36:27+02:00" pubdate data-updated="true">May 16<span>th</span>, 2014</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>After long analysis I decide to buy new laptop. I had about $1000
(or 3000PLN) and most important things to me were:</p>

<ul>
<li>i7 CPU &ndash; because of performance (of course at least 4700 series)</li>
<li>SSD &ndash; again performance</li>
<li>17.3” &ndash; working space</li>
<li>no OS/FreeDos/Linux &ndash; I will not pay additional fee to M$ for system that I won’t use</li>
<li>Full HD resolution</li>
<li>at least 8GB RAM</li>
<li>non-glare display</li>
</ul>


<p>First I realize that my budget is to small for such a hardware. Second as always
we have to deal with trade-offs, so you cannot have everything. In final round I had two candidates <a href="http://www.notebookcheck.net/Review-Acer-Aspire-V3-772G-747A321-Notebook.93916.0.html">Acer Aspire V7-772G</a>
and <a href="http://www.notebookcheck.net/Review-Lenovo-IdeaPad-Y510p-Notebook.97470.0.html">Lenovo IdeaPad y510p</a>.</p>

<p>I resign from using 17.3&#8221; display because most of them in my budget range were
glare and without Full HD support. After reading Newegg reviews about both
laptops I choose Lenovo. It is better brand with better design (ie. metal lid),
other parameters, except RAM expansion possibilities, are the same.</p>

<h2>First boot</h2>

<p>Today I have it on my desk and trying to install Debian Wheezy. I put Debian
netinst in drive and get wonderful UEFI message :)</p>

<p><img class="center" src="/assets/images/cdrom-blocked.jpg" width="450" height="450" title="image" alt="images"></p>

<p>I figure out that I have to disable my last days favourite feature from M$ &ndash;
namely Secure Boot. I was surprised when I realized that there is no hot key to
enter UEFI Setup. Instead of hot key Lenovo decide to put small button (called
Novo Button) on the side of laptop near power socket. Quite interesting idea
when taking into consideration that InsydeH20 Setup Utility doesn’t provide
much of functions, so we end with entering setup maybe dozen of times during laptop
lifetime. Also I think it can improve boot time a little bit because UEFI don’t
have to poll for user input during hot key pushing time window.</p>

<h2>Disable secure thing</h2>

<p>So to disable this <code>feature-that-name-should-be-doomed</code> you have to enter Setup
using Novo Button and switch to Security tab. At first glance you can find
option called <code>Scure Boot</code> set to <code>[Enabled]</code>. Description of this option said
<code>Enabl or Disable Secure Boot support</code>. Don’t be naive this button won’t do
what you want. To disable this devil work you have to push enter on <code>Reset to Seupt Mode</code>
option, which cleans keys database. Don&rsquo;t panic your database of
vendor keys will not disappear you can restore it anytime you want using
<code>Restore Factory Keys</code>. BTW I didn&rsquo;t found any information about it in <code>User Manual</code>.</p>

<p><img class="center" src="/assets/images/uefi-security.jpg" width="640" height="400" title="image" alt="images"></p>

<h2>Installation</h2>

<p>Next surprise after booting netinst (it works in UEFI mode, so no need to
switching to legacy) is that Debian <code>7.5.0</code> was unable to find driver for
on-board LAN card.So I installed my Debian over wireless Intel card. Wheezy use
<code>3.2.0</code> kernel which doesn&rsquo;t not contain <code>alx</code> driver with support for Qualcomm
Atheros QCA8171.</p>

<p>Note that there is possibility to load new driver from pendrive during
installation. But best way would using netinst with Jessie or Sid. You can get it <a href="http://www.debian.org/devel/debian-installer/">here</a>.
I with to knew that before I started to fight with stable version.</p>

<h2>Xorg crash</h2>

<p>After all above I booted my favourite distro and it welcomes me with blinking
cursor and Xorg crashed because of:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>(EE) VESA(0): V_BIOS address 0x0 out of range
</span><span class='line'>(EE) Screen(s) found, but none have a usable configuration</span></code></pre></td></tr></table></div></figure>


<p>During long an unequal battle, which was full of google hits. I figured out
that best way to improve awful situation in Debian stable for y510p is to
upgrade to Sid (unstable). Of course I messed up this because I tried move from
stable to unstable skipping testing.</p>

<p>I found on Debian pages that upgrade to <code>unstable</code> should be performed through
<code>testing</code> version. This mistake cost me time, because I have to install OS
second time after breaking my Gnome installation.</p>

<h2>Final considerations</h2>

<p>Upgrade to latest kernel version helps a lot but there are still many things to
do. Right now I&rsquo;m using Intel integrated graphics. It would be great to enable
second card GT755M and try Optimus technology. Especially when I would like to
rest from coding and try to relax playing Heroes Of Newearth. I also think
about running CUDA on my setup. Next thing for me will be testing vitalization
performance. If I will find reliable method to enable GT 755M on Debian I will
let you know.</p>

<p>I compiled edk2 and linux kernel. I see big difference in performance and
that&rsquo;s most important thing to me.</p>

<p>Some of you will say that Linux is a piece of $!#@, but for me this is very
good opportunity to verify my skills and contribute to community. During my
research about y510p I found also complains from Windows users that not all
works smoothly (Optimus), so there are also cons on the other side. Finally if
you won&rsquo;t deal with problems simply use Mint or Ubuntu there is much better
support there. By the way I think that I&rsquo;m immune to problems with my operating
system ;)</p>

<p><img class="center" src="/assets/images/lenovo-y510p.jpg" width="640" height="400" title="image" alt="images"></p>

<p>Thanks for reading.</p>
</div>


  <footer>
    <p class="meta">
      
  



      








  


<time datetime="2014-05-16T22:36:27+02:00" pubdate data-updated="true">May 16<span>th</span>, 2014</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/debian/'>debian</a>, <a class='category' href='/blog/categories/linux/'>linux,</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://pietrushnic.github.io/blog/2014/05/16/debian-wheezy-on-lenovo-y510p/" data-via="pietrushnic" data-counturl="http://pietrushnic.github.io/blog/2014/05/16/debian-wheezy-on-lenovo-y510p/" >Tweet</a>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2014/04/13/a-little-bit-of-fresh-air/" title="Previous Post: A little bit of fresh air">&laquo; A little bit of fresh air</a>
      
      
        <a class="basic-alignment right" href="/blog/2014/08/07/debugging-coreboot-for-qemu-armv7-vexpress-a9-emulated-mainboard/" title="Next Post: Coreboot for QEMU armv7 (vexpress-a9) emulated mainboard">Coreboot for QEMU armv7 (vexpress-a9) emulated mainboard &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>


</div>

<aside class="sidebar">
  
    
  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 -  -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a> | Themed with <a href="https://github.com/lucaslew/whitespace">Whitespace</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'pietrushnics-world';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://pietrushnic.github.io/blog/2014/05/16/debian-wheezy-on-lenovo-y510p/';
        var disqus_url = 'http://pietrushnic.github.io/blog/2014/05/16/debian-wheezy-on-lenovo-y510p/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>






<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>



<script type="text/javascript">
  $(document).ready(function() {
    $(".fancybox").fancybox();
  });
</script>


</body>
</html>
